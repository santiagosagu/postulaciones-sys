_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"+Fyi":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/programar-colegio",function(){return t("W9+U")}])},"W9+U":function(e,n,t){"use strict";t.r(n);var r=t("rePB"),i=t("h4VS"),o=t("nKUr"),a=t("q1tI"),c=t("5Yp1"),s=t("5D9J"),u=(t("YFqc"),t("HvpM")),l=t("PSD3"),d=t.n(l),m=t("fEln"),b=t("nOHt"),p=t.n(b);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function O(){var e=Object(i.a)(["\n    text-align: center;\n\n@media (min-width: 768px) {\n    margin-top: 5rem;\n    \n\n}\n"]);return O=function(){return e},e}function h(){var e=Object(i.a)(["\n\n    text-align: center;\n\n    @media (min-width: 768px) {\n        margin-top: 5rem;\n        margin-left: 30%;\n\n    }\n  \n"]);return h=function(){return e},e}function g(){var e=Object(i.a)(["\n    background: #e1e1e1;\n    \n    text-align: center;\n    align-items: center;\n    padding: 1rem;\n    margin: 1rem 0.5rem;\n\n    @media (min-width: 768px) {\n        width: 40rem;\n        margin: 2rem auto 2rem 40%;\n    }\n"]);return g=function(){return e},e}var v=s.a.div(g()),x=s.a.h2(h()),N=s.a.h2(O());n.default=function(){var e=Object(a.useState)([]),n=e[0],t=e[1],i=Object(a.useState)([]),s=i[0],l=i[1],b=Object(a.useState)([]),j=b[0],O=b[1],h=Object(a.useState)(""),g=h[0],w=h[1],y=Object(a.useState)({institucion:"",fecha:"",zona:"",supervisor:{},cupos:"",cantidaddistribuidoras:""}),C=y[0],E=y[1],P=Object(a.useContext)(u.a),S=P.firebase,D=(P.usuario,Object(m.a)()),_=D.admin;D.supervisor;Object(a.useEffect)((function(){!function(){var e=j.filter((function(e){return e.id===g.supervisor}));E(f(f({},C),{},{supervisor:e}))}()}),[g]),Object(a.useEffect)((function(){function e(e){var n=e.docs.map((function(e){return f({idUsuarioDB:e.id},e.data())}));l(n)}S.db.collection("usuarios").orderBy("rol").onSnapshot(e)}),[]),Object(a.useEffect)((function(){function e(e){var n=e.docs.map((function(e){return f({idColegiosDB:e.id},e.data())}));t(n)}S.db.collection("colegios").orderBy("nombre").onSnapshot(e)}),[]),Object(a.useEffect)((function(){!function(){var e=s.filter((function(e){return"supervisor"===e.rol}));O(e)}()}),[s]);return Object(o.jsx)(c.a,{children:_?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x,{children:"Programar un Nuevo Colegio"}),Object(o.jsx)(v,{children:Object(o.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),""!==C.institucion&&""!==C.fecha&&""!==C.zona&&""!==C.supervisor&&""!==C.cupos&&""!==C.cantidaddistribuidoras)?(S.db.collection("programacion").add(C),p.a.push("/ver-programacion-admin"),E({institucion:"",fecha:"",zona:"",supervisor:"",cupos:"",cantidaddistribuidoras:""}),d.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",d.a.stopTimer),e.addEventListener("mouseleave",d.a.resumeTimer)}}).fire({icon:"success",title:"Creado con exito"})):d.a.fire({icon:"error",title:"Oops...",text:"Todos los campos son obligatorios!"})},children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"institucion",children:"Institucion"}),Object(o.jsxs)("select",{className:"form-control",id:"institucion",value:C.institucion,name:"institucion",onChange:function(e){return E(f(f({},C),{},Object(r.a)({},e.target.name,e.target.value)))},children:[Object(o.jsx)("option",{children:"--Elige una opcion--"}),n.map((function(e){return Object(o.jsx)("option",{value:e.nombre,children:e.nombre},n.idColegiosDB)}))]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"fecha",children:"Fecha de entrega"}),Object(o.jsx)("input",{type:"date",className:"form-control",id:"fecha",value:C.fecha,placeholder:"Example input placeholder",name:"fecha",onChange:function(e){return E(f(f({},C),{},Object(r.a)({},e.target.name,e.target.value)))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"zona",children:"Zona"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:C.zona,id:"zona",placeholder:"America, Belen, Castilla, Aranjuez, Caunces",name:"zona",onChange:function(e){return E(f(f({},C),{},Object(r.a)({},e.target.name,e.target.value)))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"supervisor",children:"Supervisor Responsable"}),Object(o.jsxs)("select",{className:"form-control",value:C.supervisor.nombre,id:"supervisor",name:"supervisor",onChange:function(e){return w(Object(r.a)({},e.target.name,e.target.value))},children:[Object(o.jsx)("option",{children:"--Elige una opcion--"}),j.map((function(e){var n=j.filter((function(n){return e.id===n.id}));return Object(o.jsx)("option",{value:n[0].id,children:n[0].nombre},n[0].idUsuarioDB)}))]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"cupos",children:"Cupos"}),Object(o.jsx)("input",{type:"number",className:"form-control",value:C.cupos,id:"cupos",placeholder:"Escribe los Cupos de la Sede",name:"cupos",onChange:function(e){return E(f(f({},C),{},Object(r.a)({},e.target.name,Number(e.target.value))))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"distribuidoras",children:"Cantidad de Distribuidoras"}),Object(o.jsx)("input",{type:"number",className:"form-control",value:C.cantidaddistribuidoras,id:"distribuidoras",placeholder:"Escribe la Cantidad Requerida",name:"cantidaddistribuidoras",onChange:function(e){return E(f(f({},C),{},Object(r.a)({},e.target.name,Number(e.target.value))))}})]}),Object(o.jsx)("button",{type:"submit",className:"btn btn-danger form-control my-1",children:"Crear"})]})})]}):Object(o.jsx)(N,{children:"No tienes Permisos para estar aqui"})})}}},[["+Fyi",0,2,1,3,4]]]);